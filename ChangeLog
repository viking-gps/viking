2007-01-01
Guilhem Bonnefille <guilhem.bonnefille@gmail.com>
	* Make all .h self sufficient
	
2006-12-31
Quy Tonthat <qtonthat@gmail.com>:
	* Added gps layer

2006-12-26
Quy Tonthat <qtonthat@gmail.com>:
	* Fix a google version number change (at least in Australia).

2006-12-07
Quy Tonthat <qtonthat@gmail.com>:
	* Fix an array overflow bug in Map Layer Properties
	
2006-12-04
Alex Foobarian <foobarian@gmail.com>:
	* Added an "About" dialog
	
2006-11-30
Alex Foobarian <foobarian@gmail.com>:
	* Added Quy Tonthat's patch to fix a bug in Track Properties

2006-11-29
Alex Foobarian <foobarian@gmail.com>:
	* Added patch by Quy Tonthat <qtonthat@gmail.com> to fix a crash bug
	
2006-11-12
Guilhem Bonnefille <guilhem.bonnefille@gmail.com>
	* Add expat explicit dependency

2006-10-31
Alex Foobarian <foobarian@gmail.com>:
	* Visual feedback for moving waypoints

2006-10-30
Alex Foobarian <foobarian@gmail.com>:
	* Created standard Edit menu
	* Implemented Cut for trackpoints and waypoints
	* When moving trackpoints, we now draw one under the cursor for visual feedback

2006-10-26
Alex Foobarian <foobarian@gmail.com>:
	* Cleared up the drawing modes and map type descriptions
	* Updated google version string to make it work in Europe
	* Added Cut/Copy/Paste shortcuts to right-click menus
	* Compacted the track properties dialog

2006-10-23
Alex Foobarian <foobarian@gmail.com>:
	* Introduced a toolbar tool interface, converted existing tools to use it
	* As a result, ruler drawing bugs are gone
	* Sped up ruler drawing by increasing the redraw priority

2006-08-15
Guilhem Bonnefille <guilhem.bonnefille@gmail.com>
    * Add implicit DMS->DDD conversions in waypoints dialogs

2006-07-26
Guilhem Bonnefille <guilhem.bonnefille@gmail.com>
	* src/degrees_converters.c, src/degrees_converters.h,
	  test/degrees_converter.c: add dec -> DDD conversion
	* src/degrees_converters.c, src/degrees_converters.h,
	  test/degrees_converter.c: add dec -> DMM conversion
	* src/degrees_converters.c: refactor dms conversions

2006-07-24
Guilhem Bonnefille <guilhem.bonnefille@gmail.com>
    * Add patch for GoogleMaps from Reid Priedhorsky

2006-07-22
Guilhem Bonnefille <guilhem.bonnefille@gmail.com>
	* Makefile.am, configure.ac, src/Makefile.am,
	  src/degrees_converters.c, src/degrees_converters.h,
	  test/Makefile.am, test/check_degrees_conversions.sh,
	  test/degrees_converter.c: Adding degrees conversion functions
	  (DDD/DMM/DMS)

2006-07-06
Evan Battaglia <gtoevan@gmx.net>
	* ChangeLog, src/google.c: Upgrade Google Maps -- Europe

2006-07-01
Evan Battaglia <gtoevan@gmx.net>:
	* Upgrade Google Maps version (yay Europe!)

2006-06-11
Guilhem Bonnefille <guilhem.bonnefille@gmail.com>
	* NEWS, configure.ac: Preparing 0.1.1

2006-05-25
Alex Foobarian <foobarian@gmail.com>:
	* Cleaned up the data source interface
	* Added a setup dialog to the GPS data source, with protocol type and serial port location

2006-05-12
Alex Foobarian <foobarian@gmail.com>:
	* Small fixes in Acquire from GPS code

2006-05-08  Guilhem BONNEFILLE  <guilhem.bonnefille@gmail.com>
	* autogen.sh: simpler method to start from CVS

2005-12-03
Evan Battaglia <gtoevan@gmx.net>
	* Data sources -- check for existence of necessary things

2005-11-25
Evan Battaglia <gtoevan@gmx.net>
	* Created "data sources" structure to easily add new data sources via GPS babel.
          It's ugly now and there's a lot to be done, but I think 79-line datasources_google.c
          shows the power of the approach.
	* Data sources: Google & Geocaches

2005-11-23  Guilhem BONNEFILLE  <guilhem.bonnefille@gmail.com>
	* src/gpx.c (gpx_dtostr): add better GPX export
Evan Battaglia <gtoevan@gmx.net>:
	* dtostr -> coords.c; use in gpsmapper.c and gpspoint.c (locale-independent output)

2005-11-21
Alex Foobarian <foobarian@gmail.com>:
	* Fixed v-t diagram crash bug

2005-11-19
Alex Foobarian <foobarian@gmail.com>:
	* GPSBabel acquire code

2005-11-18
Alex Foobarian <foobarian@gmail.com>:
        * Copy/paste of individual track- and way-points updated to work between processes.

2005-11-17
Alex Foobarian <foobarian@gmail.com>:
        * Copy/paste between viking processes
	* Layer marshalling support

2005-10-28  Guilhem BONNEFILLE  <guilhem.bonnefille@gmail.com>
	* configure.ac: Adding --with-mapcache configure option
	* src/config.h: Removed because no more used (generated)

2005-10-18
Alex Foobarian <foobarian@gmail.com>:
        * Fix ruler declination in UTM mode

2005-10-17  Guilhem BONNEFILLE  <guilhem.bonnefille@gmail.com>
	* src/icons/Makefile.am: assumes the creation of icons.h
	* src/garminsymbols.c, src/vikwindow.c: icons.h re-located
	* src/Makefile.am: no more icons.h production

2005-10-16
Evan Battaglia <gtoevan@gmx.net>
	* Fix ruler: show angle, distance even when compass off-screen.
	* Fix bgitemcount. Background items status bar "should" be accurate now.

2005-10-13
Alex Foobarian <foobarian@gmail.com>:
        * Drag and drop whole track/waypoint lists

2005-10-12
Alex Foobarian <foobarian@gmail.com>:
        * Coord layer drawing for lat/lon based projections

2005-10-11
Alex Foobarian <foobarian@gmail.com>:
        * Draw a compass when using a ruler

2005-10-07
Alex Foobarian <foobarian@gmail.com>:
        * Added ruler drawing to the ruler tool

2005-10-06
Alex Foobarian <foobarian@gmail.com>:
        * Added support for pasting coordinates in lat/lon format

2005-10-05
Alex Foobarian <foobarian@gmail.com>:
	* Change clipboard so as to use GTKClipboard. Prepare for support for pasting coordinates, etc.
Evan Battaglia <gtoevan@gmx.net>:
	* When pasting waypoints and tracks, do name resolution (add #2, etc)

2005-10-01
Evan Battaglia <gtoevan@gmx.net>:
	* make symbols work for geocaching .loc files (and case-insensitive symbol names)
	* Option as to whether or not to show unit scale (esp for exporting images)

2005-09-30  Guilhem BONNEFILLE  <guilhem.bonnefille@gmail.com>
	* configure.ac, src/Makefile.am (SUBDIRS): added auto-tools support for src/icons
Alex Foobarian <foobarian@gmail.com>:
	* Added a drag_drop_request method to layer interface, updated DnD to use it
	* Updated DND to insert layers at the point of the drop, instead of front of list
	* Added wp symbol support to gpx
	* Fixed name collisions during track/wp DND
	* Layer-wide option as to whether to show waypoint symbols	

2005-09-29
Alex Foobarian <foobarian@gmail.com>:
	* Added support for waypoint symbols (changing, loading, saving), and a small number of icons.
	* Added a scale ruler
	* Changed panning to show less "garbage" in exposed areas
	
2005-09-28
Evan:
	* menu.xml & icons inline

2005-09-27
Alex Foobarian <foobarian@gmail.com>:
	* GtkUIManager/Toolbar
	* DND in the LayersPanel
Evan:
	* strtod -> g_strtod (i18n glitch)

2005-09-25  Guilhem BONNEFILLE  <guilhem.bonnefille@gmail.com>
	* src/globals.h (VIKING_VERSION): uses the PACKAGE_VERSION macro
	* Makefile.am (EXTRA_DIST): handles viking-remote
	* src/Makefile.am (AM_CFLAGS): substitution of CFLAGS by AM_CFLAGS
	* doc/Makefile.am, doc/dev/Makefile.am: new files
	* Makefile.am (SUBDIRS): handles doc directory
	* configure.ac: handles doc and doc/dev directories

2005-09-16
Alex Foobarian <foobarian@gmail.com>: fix to v-vs-t (better drawing)
Evan:	* GPX fixes
	* So Geocaching .LOC _isn't_ GPX?!?!? Oh well, it's XML...
	* GPX write, click v-vs-t diagram
	* Option to show stops in TRWLayer options, and stop_length
	* Elevation plotting relative to min and max elevation in track.
	* Option to do elevation plotting, and controlling relative height

2005-09-15
	* 4+ hours later and voila, GPX read support
	* Fixes in propwin if track doesn't have certain data, say so.

2005-09-14
Me (Evan) again:
	* Fix USGS support
	* Click on the elevation map to go there, so you can see where a mountain-top is etc.
	* Don't crash on track properties of an empty track.

2005-09-13
Guilhem BONNEFILLE  <guilhem.bonnefille@gmail.com>:
       * bootstrap: new file to bootstrap auto-tools
       * src/config.h (VIK_CONFIG_ALPHABETIZED_TRW): no more set via this file
       * Makefile.am (bin_SCRIPTS): viking-remote added
       * configure.ac: --enable-alphabetized-trw option added

Evan Battaglia <gtoevan@gmx.net>:
       * Experimental altitude funky plotting I'm working on

2005-09-12
Alex Foobarian <foobarian@gmail.com>'s changes
* disable stops, for now (I forgot about those...)
* Track elevation graph: minimum altitude difference for less jagged curves
* Track elevation graph: gray background, blue foreground
* Track elevation graph: lines to clearly show absolute elevation
* New velocity-vs-time graph & calculating function
* Notebook to hold this new graph with track elevation graph
My (Evan's) changes:
* Fix above v-vs-t patch to not crash on tracks without timestamp.
* Not show v-vs-t graph and/or elevation map if the necessary data isn't there.
Guilhem BONNEFILLE  <guilhem.bonnefille@gmail.com>'s changes
	* bootstrap: new file to bootstrap auto-tools
	* src/config.h (VIK_CONFIG_ALPHABETIZED_TRW): no more set via this file
	* Makefile.am (bin_SCRIPTS): viking-remote added
	* configure.ac: --enable-alphabetized-trw option added

2005-09-07
Autotools support by Guilhem Bonnefille.

2005-09-06
Added Alex Foobarian's track duration patch.
Added Alex Foobarian's track profile patch.
Added Alex Foobarian's elevation map fix.

2005-09-04
Map cache fix: if only one map can fit / one map is bigger than cache size, then that's OK.
Delete from cache when updating image.

2005-08-18
Map cache size based on memory usage, not number of images. Some flaws to be worked out still in this.

2005-08-16
Accepted USGS maps support from Clark McKines. Pretty slick, I'll have to take a look at it.

2005-08-02
Quite easily added support for Mercator projection & Google Mercator maps (regular, transparent etc)
Chaned waypoint types a little bit (size of waypoint)

2005-07-31
Hopefully fixed background.c item # count
Fixed KH Maps (v=2)

2005-06-20
A little research & added KH Maps support.

2005-06-19
Fixed right-click waypoint edit -> crash bug, hopefully.
Fixed "everyone lives in zone 11" assumption for vikgeoreflayer.c; still monozone though ...
Made it so when you paste or add a new layer, it pastes it before the selected layer, not to the top.
Fixed the bug where pasting a map layer messed up the name.
Made dragging middle mouse button pan. Removed pan tool. Thanks Reid for the idea.
Made different options for drawing waypoint dots. Not very good but we can make better-looking ones later.
Side view of tracks à la Garmin MapSource, nice ...
Fixed Google street maps simply by changing "v=.1" to "v=.3" ; the newest version of gmaps is completely different, I'm unsure how long this will work for.

2005-05-05
Experimenting with stops

2005-05-01
Fixed cheap ruler bug (use ruler, change draw mode, use ruler, crash). That's really not good... but hey, it _is_ alpha software.

2005-04-24
Added "how many maps currently downloading" status bar hack

2005-03-11
What the heck? Viking-remote didn't work? Fixing --/- stuff. Also fixing hang if can't open. Did this by putting gdk_threads_enter() before file opening in main.c.
Update viking-remote to work _right_ with maps, also geo://GC1234/ works, nice...

2005-03-08
Uffda, I forgot Oggdeir's gpsmapper.c patch.
Also fixed Windows compiling.

2005-02-28
Fixed Windows compiling, hopefully.
Removed TopoZone support per topozone.com request.

2005-02-27
Instituted a really nice background downloading system with a separate system, works like a charm.
Fixed (hopefully) a bug where a download failed the filename wasn't deleted, leaving an empty file.
Misc cleanups/testing surrounding downloading.
Autodownload
Fix other stuff, including moving a waypoint (delete while moving -> crash)

2005-02-26
X and Y zoom levels for maps so factors don't have to be equal.
Fixed maps zoomed out, added an combo box for it by adding a combo box in viklayer.c, fixed maptype to use map id and not internal array index
Changed VikTrwLayer properties dialog to add an image tab, fixed GtkTable layout so as not to stretch out stuff in the y direction.
Fixed /var/cache/maps stuff
Safety for maps zoomed out
Fixed mapzoom for cases where factors aren't equal
Got the basic download in background code on, now just minor nicities
Got the genius idea that someone might want to open up more than one file at one time ;)

2005-02-25
No time tonight, gotta get some sleep. Did work on hooking up Google Maps with GPSBabel's module into viking with a wget & a sed command. Totally awesome.
Also, added support for the highest google zoom level which I didn't know existed.

2005-02-23
I'm not really supposed to be working on this ... but it get's addictive, so close to a release...
Added back alpha support. It works for all map types now. Mostly useless for other types, unless you want to see tracks under your map, since you can't show more than one non-Terraserver map at the same time.
Started work on maps for different zoom levels. You can do all different maps at all different zoom levels, even zoom in. Don't zoom in with expedia maps though, it could create a 2000px x 3000px size image or so, and cache up to 10,000 of those. Yeah.

2005-02-22
Made it easier to use all these maps -- switching between them, correct zoom levels, etc.
Expedia for Europe (thanks GPSDrive people again)
Kit Transue's UTM zone patch is back in for the new MapLayer. This marks the first time I have seen cross-UTM zone Topozone maps. Interestingly enough it seems that they patch the maps together. Viking messes this up a little bit but in general it works fairly well. I'm still amazed it's possible ;)
Minor cleanups etc.

2005-02-21
Tons of work today, too much to list really. Basicly I threw away VikMapLayer and started over. This one's nice, really easy to add new types. Google, Expedia, and Terraserver maps are now functioning, but the layer isn't completed yet, many things such as alpha, download in the background, etc. aren't quite there yet.
Topozone support, heh ;) Of course none of these maps can be used together. Especially since scaling isn't done yet. I'm also going to have to create some handy ways to switch between layers.

2005-02-20
Finally got the brilliant notion that a GSList isn't the smartest way to do memory map caching. In fact it's probably one of the stupidest. Increased speed (when all maps loaded) by 30x or so by using a GHashTable shared between layers. How much of the slowdown was accumulated somehow since 0.0.8 is unknown.
New map caching file naming scheme. Hierarchial directory structure for faster lookup.
Tweaked the above memory caching scheme to use a linked list in conjunction with a hashtable to allow for a maximum size limit to the cache. Currently you have to edit the file to set this upper limit. And it's in tiles -- doesn't matter the size of the tiles.
Added some code in http.c of all places to make 2 directories above if they don't exist (new caching filename scheme)

2005-02-19
Fixed params[3] -> params[2] l1738 to fix click image
Fixed delete a waypoint->crash bug
Fixed TOPLAYER_FROM_WIDGET() error on right click wp -> properties (no VLP to use this on; use FROM_LAYER())

2005-02-18
Wow, Haven't worked on this in a while...
Sorry, just adding a hack to allow me use mapzoom at 0.25 quality.

2005-02-02
Changed pan, a little bit, to move the map. Not good enough though, it leaves behind stuff now. Couldn't get it to not flicker, and run at a decent speed.

2005-01-29
Fixed waypoint pango drawing.
Compatibility layer for GtkColorButton to use an entry for GTK 2.2
Move Waypoints by dragging
Snap to WP (shift-) for TP & WP moving. Snap to TP (ctrl-) for WP moving and still TP moving.
Select WP on the side when editing (if the layer is selected that is)

2005-01-28
Changed over to Pango, finally. Just experimentally so far, though; gotta cement it and fix it over.
Changed the properties/parameters system to allow tabs (groups) in properties boxes.
Tracks & waypoints now alphabetized! Three cheers! I can't believe how relatively easy that was. Two new functions in viktreewview.c and two more lines of code in viktrwlayer.c, I thought it was going to be hard for some reason...
Added a GtkColorButton thing for layer properties. This officially boosts the minimum requirements to GTK+ 2.4. This shouldn't be too much of a problem since 2.6 is out already.
Settable waypoint background & text colors. Different ones for different layers is incredibly snazzy.
Settable track bg color. Also fix some switch/case stuff... forgot to break...
So you can do plain transparent (no WP background) by choosing white and selecting color translucency... Not exactly clear. But wow, these colors are looking really awesome.

2005-01-23
Expedia maps working now. Don't *exactly* match up on the top and bottom sides, but I'm not sure I can get much better. Good enough. More fixes, added autodownload (thought that was already in here? maybe only in my topozone version).
Fixes, lots of small stuff -- e.g. a bug I introduced where it wasn't getting the correct utm zone for terraserver maps when downloading.
Fixed a weird GTK bug where updating the coord mode menu radio button would change the coord mode. See only_updating_coord_mode_ui
Implemented "invisble auto-downloads". Thought up a new way of doing downloads -- a queue and only one other process -- but probably won't implement that for a while.
Wow, auto-download + street maps is really neat!

2005-01-22
Working on implementing Expedia maps .. Lots of stuff, had to change HTTP to hande forwarding, that took a while just to test. Had to restructure some vikmaplayer code to know about expedia maps and download differently. LOTS more to go however. It now downloads maps, but that's about it. Lots of work to go.
OK, now it cuts off the sides (ads) and stuff. Snazzy. I made a test "draw" function but it isn't working perfectly yet. It is working and piecing together maps though. They look OK pieced together but street names are messed up at borders sometimes to I'm going to make the pieces bigger.
Did I mention it draws the maps in the wrong places?

2005-01-21
Many little things tonight:
Much cleaner way of doing alpha/bleach. Slightly less functionality (can't do bleach and alpha) but cleaner and should be faster.
Made it so it saves coordinate mode in the .vik file.
Made it so you can change the background. Saves this to the .vik file.
White background under tracks. Inefficient but it works.

2005-01-20
Added support for Urban Areas color photograph maps from TerraServer.
Just a note: TopoZone isn't going to work. I had added support for it in my own prviate version, and used it happily for areas where TerraServer was messed up. But one day it didn't work. They changed their site so it's hard (if not impossible) to get to the image directly. I could always do indirect, though ...

2005-01-17
Made it so you can change modes
Optimized a little tiny bit, drawing still slow
GREATLY Improved UTM drawing speed by remember zone width in VikViewport. I think kit meant to do that, there was a zonie_width item in VikViewport; it went unused.
Re-instituted UTM ce1, cn2, etc. checks that went out the door when multiple zones became available. It now does these checks only if UTM is used and there is one zone. Performance is now comparable to 0.0.5 speeds.
Fixed minor UTM 2 zones bug I (apparently) introduced above where some things are on zoom.

2005-01-16
Added "Visit Geocache Webpage" right-click waypoint option. Not very useful until I can click on waypoints, though.

2005-01-15
Started massive UTM -> VikCoord abstraction project
Wow.
Biggest. Change. Ever.
Worked on it about 5 hours. It seems to be going excellent! Most UTM's have been made into VikCoord's, except for some things like VikCoordLayer which I simply disabled. I just plugged in the Lat/Lon coord to screen code and it works! Now I have to work out all the bugs, add a change coordinate / conversion system, and fix a lot of stuff. WOO HOO!!!
Update: added coord_to_screen and screen_to_coord for Lat/Lon. works FLAWLESSLY!!! AWESOME!!!

--- viking 0.0.8 ---

2004-12-25
Added UTM zone glue-together by Kit Transue
Fixed various things regarding this patch (distance, lines, etc.)
Packages & uploaded changes

2004-11-27
Back, but not really ...
Added a fix by Peter Jones (gpspoint.c glitch)
Added CYGWIN/Makefile fixes by Alex Stohr

--- viking 0.0.8 ---

2004-04-13
Back from a 3-day GPS data gathering mission.
Fixed bug wherein track GC's weren't getting updated when line_thickness was updated.
Only waypoints and trackpoints if they're in the right UTM zone.
Use g_spawn_command_line_async for showing pictures; support for Windows for this too.
Rather drastically changed background.c so as not to use pthread's detach() and cancel() functions which are strangely absent in gthread.
Changed background.c to gthread.
Auto-switch UTM if you go too far.
Draw little star on tracks if it was cut off due to UTM zones.
Show human-readable time in trackpoint window.
Fix trackpoint window so as to not show time of '0' if the TP has no timestamp.
I didn't want to take this long with 0.0.8. 0.0.7 was released in just 27 days but 0.0.8 took 50. Oh well, I'll have to work doubly hard for 0.0.9. Here is Viking 0.0.8 all. Enjoy.

2004-04-09
Prevent loading partially-downloaded file by first writing to a temp file and them writing that data to the image file.
g_error_free () where neccessary.
Changed "Map Download All" to clearer, more direct and generic code.
Very easily used this code to make downloading lots of maps with the "map download" tool. Just drag over the square you want to download.
Added map size parameter. Had to change viklayer.[ch], add an extra_widget_data field in the param struct and change viklayer.c to support different uint values for options

2004-04-08
Some experimental work with maps at a different zoom level (e.g. 4mpp maps viewed at 16mpp)

2004-04-04
Load thumbs in a background thread. Thumbs show up as soon as they are loaded and you redraw.
Cleanup function for maps so incomplete map downloads will be deleted, woo hoo!
Snap to TP for edit TP and new track. Hold down control.
Added Max Speed, Average Speed, Average Dist Between Trackpoints in track property window.
Added "Diff Speed" in TPWin so you can tell speed between one trackpoint to the next.

2004-04-03
Put maps in a background thread while updating the UI, but you can still use viking. I have to duplicate all necessary data passed to the thread (what threads to download and where) in case that layer is deleted. I still have to a couple things (actually canceling the download operation) but it works very nicely, I can download lots of maps at the same time! It feels very liberating...
Right click to redownload a map. Regretably some messed up maps have been showing up with the above method, it's a big mystery how exactly...
Did a little test: disconnected my Internet connection and tried to download a map. Viking hanged for 22 seconds. I consider that acceptable, for now at least.

2004-04-02
Fixed trw_layer_new_track_gcs getting called twice -- post_read link and in vik_trw_layer_create
Just got finished loading thumbnails in the background. Aye, what a bother. But it works nice. (However once I got it to crash with an Xlib async error? Sigh, that's not good...)

2004-03-31
Added support for clicking images to show it, using eog -- this currently cannot be changed. (!)

2004-03-23
Fix crash on export code (Mike Davison)
Use $VIKING_MAPS for default map directory if available (Mike Davison)

2004-03-08
Move image to use when alpha drawing to VikViewport. That simplifies a lot.
Little changes, here and there. Lots of options for images.

2004-03-07
More work on dynamic Properties boxes, it will make adding new options _so_ much easier...
A lot of work on this. Wow, Viking is getting big. And ugly.
Also fixed a bug similar to another old bug -- forgot to copy waypoint image filename when a waypoint is copied.
You can now choose the image size, via the new dynamic properties box.

2004-03-06
Fixed a dumb bug that prevented you from opening GPSPoint files after Viking files.
Working on dynamic Properties boxes, getting nowhere fast...

2004-03-05
Wrote a tiny bit of code to further shrink and cache thumbnails.

2004-02-29
background.c to use pthread to run stuff in the background (think -- downloading maps) and give a dialog to cancel (d'uh!)
The ability to use pthread opens up a lot of possibilities about how to handle map downloads. For instance, you could have a little dialog where you have different groups of maps downloading. Lots of possibilities, I just have to think about how I want to implement them.

2004-02-28
Lately I've been working on a GUI tool written in Python to link up pictures and track logs to figure out where a picture was taken. That's my excuse, anyways, for not working on Viking.
Thought a little bit about how I'm going to do pictures in Viking. Looked over ROX-Filer's thumbnailing code.
Added a bit of picture thumbnail code. You can now see photos in Viking.

--- viking 0.0.7 ---

2004-02-22
Fixed edit TP, then rename track -> updates current_tp_track_name glitch.
Took quite a bit of time to change the way tools work. Instead of returning TRUE to redraw, tools return TRUE if they "accept" the tool call. If they don't, then it will look for another layer that will accept the tool call. That way you can edit trackpoints on different layers. It's nice, actually.
Fixed "edit layer name, then move it" bug the crept in somehow. It wasn't in 0.0.5-pre4, but I don't see any differences in the code, oh well, fixed it this time.
One month and almost 4000 LOC later... Viking 0.0.7 "Gonna Move Those Mountains Aside"

2004-02-21
Fixed track join deleting problem mentioned yesterday by keeping track of individual GtkTreeIter's for all tracks in a hash_table. Whenever a track is added/realized it's iter is added to the hash. Actually a rather pleasant (and fairly easy) solution. This simplifies deleting tracks in other places too, since we now don't need to know the iter.
Very easily made it so that when you edit a trackpoint it selects the appropriate track in the layers panel. Press Shift+10 for fast deleting. Evidently the tracks list must be expanded.
Fixed last_tpl (VikTrwLayer) / cur_tp (VikTrwLayerTpwin) confusion.
Changed split up track to change current tp to first of new track rather than last of old.
For some reason I felt I needed to add a thing in track properties which would count the number of duplicate TPs (same coords, one after the other) and make a button to remove them.
You can now change latitude, longitude, and altitude of each TP in the track window. Good for setting exact location rather then moving.
Added _real_ transparency support. I've tried before, but this time it actually wasn't hard it all. It was harder adding the UI stuff and layer attribute and all that. Anyway it might be a tad slow wise but it looks FANTASTIC!
Fixed open and save dialogs (including VikFileEntry, but excluding render to image and export as gps* dialogs) so that the dialogs are not deleted and created each time but the same one is used. This means that it will stay in the same directory.
How does a release tomorrow sound?

2004-02-20
Can't seem to find the time for Viking these days. Today I managed to get a little work in.
I did manage to add support for moving trackpoints. It's awesome. You just choose the edit TP tool, select a TP, and drag it.
After experimenting with arcs (arrows) for TPs (it didn't work), I changed track drawing to draw a triangle for the startpoint and a circle for the endpoint.
OK, So you can now join tracks (kind of ugly solution, but that was how it worked out), but the really ugly part is that it won't show up as deleted in the layers panel, and to make it do that, I need the track's layers panel Iter which I don't have from the tpwin. I sense major hackage ahead.

2004-02-16
Thursday through Sunday was another "data gathering mission". I also though up a _lot_ of great ideas for Viking. Now I just have to find the time to implement them all.
Today I added support in file.c for opening from stdin, aka "-". I also changed the magic number determining code to use ungetc() rather than rewind() so it will work correctly with stdin.
Not part of viking, but I wrote a quickie viking-remote script.

2004-02-10
Gotta get back to work. Sigh. Saturday and Sunday I went on a "data gathering mission", so there's my excuse. Yesterday I was away hacking on gpsbabel to support gpspoint (Viking) files.
Fixing little tiny things, like making the tpwin not close when you delete a waypoint, fixing little mistakes in trwlayer, graying buttons, etc.
Added little things to tpwin -- forward, previous, diff, makind diff work for delete button, etc.
Added a_coord_utm_diff for tpwin diff & ruler tool & track length
Added a_dialog_create_vbox_label function, converted vik_trw_layer_tpwin_new()
Added track length, tp count, segment count in properties box
Fixed if try to rename waypoint or track to one that already exists, crash bug (had to uppercase user input)
Added split up into segments. Had to change a_dialog_new_track, do above change, and a million other things. Sigh.
Fixed split up segments so it first makes a copy, then deletes the old copy. That way if the track was on the clipboard you can paste to get the original track again. Nifty eh?
Added reverse track.
That's all folks. I'm a-goin to bed.

2004-02-06
Just got through fixing the hardest-to-track-bug I've ever tackled. Viking would crash when I copied a 
pasted a layer in a certain file, but it seemed fairly random and gdb's backtraces were no help because 
it was crashing on totally unrelated things (free'ing memory twice does weird things). I finally narrowed 
it down to do a certain sequence to give me the warning: viking in free() chunk already freed, etc. Then 
I used step (starting from vik_trw_layer_free) to determine exactly where it was free'ing something 
twice. It was the waypoint comment. I noticed comments were different from the original waypoint (on the 
original layer that had been copied) so I tried stepping thru vik_waypoint_copy to see whether the 
waypoint was being copied correctly. It was then when I something wrong. I had assigned one waypoint to 
another, then called the function vik_waypoint_set_comment(), which, upon seeing that the comment of this 
new waypoint was not null, proceeded to free it, whilst the old waypoint still carried that comment 
pointer around. The ironic part is one line of code (new_wp->comment = NULL;) fixed everything.

Well, glad to get that out of the way. Now I can proceed to work on new stuff.

I also made sure to delete the trackpoint window if the track gets deleted.
The long-awaited SPLIT UP TRACK is finally in Viking. Goodie.

2004-02-03
Set up signals for VikLayer. Constructed a super-cool yet slightly-slow chain of signals using VikAggregateLayer. It's wacky.
All my hard internal work has finally payed off. I just added code for deleting trackpoints. It works, the signal is given to update and all is good. Yay.

2004-02-02
Back to work. I hit a snag and had to switch VikLayer to a GObject to give off signals for updating for the track editing tool.

2004-01-30
Very very small amount of code to report export image write errors to stderr.
Some various work on track editing:
  Made another file/class viktrwlayer_tpwin.c
  Added labels to show info when you click a trackpoint
  Made it draw a big TP for the current TP
I don't know why it's not in this ChangeLog, but some experimental Track[point] "editing" (realling finding) support was already there: the tool, the code for finding the nearest TP, and a line of code showing a dialog with the buttons which would be useful (I obviously did some planning.)
Oh, Also, cut and paste waypoints support has been in for quite a while, before September, I'd say, somehow that escaped this log.
Anywho, the road looks clear as to how to procede with respect to track editing: make sure to reset current_tp if track is deleted, add on features, etc.

2004-01-29
Added a little thing to tell you how much are the map(s) will cover.
FINALLY fixed coord layer so it shows ALL necessary coord lines (<sarcasm>it actually checks your zoom level now!!!</sarcasm>)

2004-01-28
Slowly added "Generate directory of Images" support.
Fixed pan tool.

2004-01-27
You can now choose the name of the image to export to, choose the zoom level, and choose to get everything in the current viewing window.
Also took 15 minutes to add a pan tool.
Also made it remember your choices of width and height and image format for draw to image file.

2004-01-26
I'm celebrating Australia Day by working on the Vik for the first time in ... My fingers don't go up that high, anyway.
Adding code for exporting to image.

2003-9-22
Took a short two month break. Hehe.
Finally got around to checking whether server returns "200". Sometimes terraserver has erras.

--- viking 0.0.5 --

2003-7-15
Simplified vikfileentry.c by using gtk_dialog_run
Loading from World files
Saving to World files

2003-7-14
Map Layer -- default cache directory ~/.viking-maps (on UNIX) or C:\VIKING-MAPS (on Windows). This way people don't have to worry at all about cache directories, they can just use the default and it will automatically be created.
Create default cache directory if it doesn't exist. Automatically add file separator on cache directory name.
Don't write cache directory name to Viking file if it is default; if no directory use default (that way people can share files without having to worry about someone elses cache directory)
Readability/Naming: InitGcs -> PostRead

2003-7-11
More work on GeorefLayer. It's now pretty much working.
Made vikfileentry.c, changed vikgeoreflayer and vikmaplayer to use it.

2003-7-10
Changed zoom to two variables -- xmpp and ympp and implemented necessary changes in the layers.
Added a "Goto Any Zoom" kind of dialog/function.
Changed status bar a tad to reflect this.
Started some work (mainly UI/semantics/program interface) on GeorefLayer. Will make it actually do something later.

2003-7-09
Changed zoom limit from 32 mpp to 512 mpp.
Changed zoom to a double to allow any zoom level.

2003-7-07
Sorry ... "Real Life" (tm) has been taking up a lot of time lately. Anyway today I managed to implement track visibility in Viking GPS files.

2003-6-27
Don't show an empty menu for a sublayer if it doesn't add anything to the empty menu
Little bugfixes

2003-6-26
Put all file stuff in one file.
Removed old binary fileformat support. 3 days of work deleted in no time.
Track -> VikTrack, Waypoint -> VikWaypoint, Trackpoint -> VikTrackpoint, vikwaypoint.c, viktrack.c
Comment support, comment support for gpsmapper export
Comment for gpspoint, backslashed quotes, etc. in comment in gpspoint.c. Lot of work... I could easily backslash track/wp name, but they usually dont have quotes in
OK, I've been programming for over 4 hours. Break time.
OK, back to work. Comment support complete, I've also added altitude output support for gpspoint.
Switched various button order around in dialog.c to comply with HIG
Track undo support. Double-click to end, right click to undo. Crazy day, huh?

2003-6-25
Support for reading map and trackwaypoint layers. Also support for trackwaypoint data (in GPSPoint format)
Whew! Write support is complete! Man, that's a lot of work. Now I just gotta iron out any wrinkles (such as getting rid of old file format support)

2003-6-24
Half hour's worth of coding has made copying and pasting TrackWaypoint layers a reality.
Started working on FF2. TODO: implement individual layer getters/setters functions, write support
I've done an incredible amount of work today.
Mission: By the weekend I must have FF2 support out the door.

2003-6-23
Created Viking 0.0.5 branch.
Started work on copy & paste layers. With just two hours or so worth of code, you can now cut, copy and paste coord and map layers and aggregate layers made up of these.
You can even copy and paste between windows.
Next up -- trackwaypoint layers, then we're off to copying items.
Onward -- 0.0.5!

--- viking 0.0.4 ---

2003-6-23
Viking 0.0.4 "Lame Duck Release"
Alright, I haven't been doing anything for the last two days. Guess I'll just release what I have...

2003-6-20
Added GpsMapper export support to make it easy to make Garmin maps.
Made it so you can now rename tracks.
Implemented map fade into white (alpha)! This should help distinguish tracks while still seeing maps.

2003-6-19
Fixed a map caching problem that occurs when you lower the size of the memory cache (it won't really be lowered).
Started experimenting with map semi-transparency. It's pretty cool.

2003-6-18
HIG document compliance (Open, New, Close, modified flag, etc.) I probably won't be making a "Exit" menu item, because that is the dumbest and most confusing aspect of the HIG.
Tearoff item for tools.
Made a_file_basename and replaced all places where I previously just copied and pasted the code.
Fixed _another_ "forgot to initialize" bug (layer.realized)
Simplified interface by having one Open menu item for opening any type of file and an Append menu item to do the same
In doing this, "./viking my.vik my2.vik my.gps my2.gps" etc. now works (concatenates into an unamed file.)
Removed "Properties" from Aggregate Layer popup, and added info message when running "Properties" from the Layers menu on an Aggregate
Provided a info message that tells the user the Top Layer cannot be deleted.

2003-6-17:
Added error message for failed writes, fixed various bugs such as not free()ing any of the layers on exit (!)
Also fixed some crashes such as when you try to export a trw layer and you can't write to it.
Fixed button order in model dialogs to comply with GNOME HIG.
Added a "Delete All Layers" item from the menu. Change menu names a little bit.
Added "Save" support (current filename)
Started thinking about HIG compliance in the way of documents. Will probably get rid of delete all layers and add new, open (in new window)

2003-6-16:
Added VikTrwLayer serialization support, added "open" and "save" dialog boxes.
Added error messages for failed reads, etc.

2003-6-15:
More serialization work. The basics are now working, I have to add VikTrwlayer, maybe add some things in to make
it less vulnerable to crashes and really big mallocs(), and maintain compatibility between versions.

2003-6-14:
Got some more sample data for Viking via motorcycle riding ;)

2003-6-13:
Fixed serious glitch that crashes on creating a new track. 
Fixed viking crash that happens when a new track is being created, then deleted.
Designed file format & started on serialization of layers.
Moved Layer Icon loading stuff to VikTreeview, as poor designed as it sounds, to get ready for Serialization code.

2003-6-12:
Viking 0.0.3, first public release
